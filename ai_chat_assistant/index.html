<!DOCTYPE html>

<html lang="en">
    <head>
        <title>CSCI 1100/1150 Chat Assistant</title>
        <meta name="description" content="">
        <meta name="author" content="Ryan Haas">
        <meta name="keywords" content="csci, 1100, 1150, chat, chatbot, assistant, course, information, etsu, east, tennessee, computing, university">
        <meta name="robots" content="noarchive">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta charset="utf-8">
        
        <link type="text/css" rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link type="text/css" rel="stylesheet" href="https://csci-1100.github.io/class_resources_public/uit_website/style.css">

        <script type="application/javascript"
            src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
            integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
            crossorigin="anonymous"></script>
        <script
            type="application/javascript"
            src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"
            integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI"
            crossorigin="anonymous"></script>

        <style>
            .embed-box {
                overflow-y: hidden;
                overflow-x: hidden;
                border-radius: 3px;
                background-color: transparent;
                white-space: nowrap;
                border-bottom: 1px solid hsl(var(--clr-light-gray));
                border-top: 1px solid hsl(var(--clr-light-gray));
                height: 64vh;
            }

            .center-xl {
                margin-left: auto;
                margin-right: auto;
                width: 99%;
                padding: 0px;
                text-align: left;
                align-items: left;
                border-bottom-left-radius: 8px;
                border-bottom-right-radius: 8px;
                overflow: hidden;
            }

            .gridbox-icon-left-chat {
                display: grid;
                gap: 5px 1rem;
                margin: 0.2rem 0;
                padding-left: 15px;
                border-radius: 8px;
                grid-template-columns: 0.1fr 1fr;
            }
        </style>
    </head>
    
    <body class="body-bg-img">
        <div class="center-xl text-dark border-putty-yellow bg-light fs-400">
            <h1 class="fs-350 text-white">CSCI 1100 Chat Assistant</h1>
            <script defer src="https://cdn.customgpt.ai/js/chat.js"></script> <script defer> (function(){ function init(){ CustomGPT.init({ p_id:'58482', p_key:'c0000b503245a2d9a49b2bb9e4fc9693' }) } document.readyState === 'complete' ? init() : window.addEventListener('load', init); })(); </script>
            <div class="collapse-container border-dotted-primary-blue br-8" style="margin: 0!important; padding: 2px!important; line-height: 1rem;">
                <div class="gridbox-icon-left-chat">
                    <div>
                        <span class="fs-250 ml-4s" title="Expand collapsed content">☰&emsp;</span>
                    </div>
                    <div>
                        <h2 class="fs-250 ff-sans-bolder">⚠️ Disclaimer</h2>
                    </div>
                </div>
            </div>
            <div class="expand-content fs-200 br-8" style="line-height: 1rem;">
                This chat assistant uses a GPT AI model to provide its responses. Due to the nature of
                this architecture, 100 percent accurate information is not guaranteed. If this chat assistant
                provides information inconsistent with course policies or information provided in your course
                documents (such as the syllabus and schedule), your course documents will serve as the ultimate
                authority.
                <span class="text-primary-blue">- Ryan Haas, Assistant Director</span>
            </div>
        </div>

        <div class="fs-350 p-4 br-8 bg-white text-danger" style="bottom: 0; position: fixed; width: 65%;">
            Click the chat bubble to start a conversation →
        </div>

        <script>
            let collapse = document.getElementsByClassName("collapse-container");
            for (let i = 0; i < collapse.length; i++) {
                collapse[i].addEventListener("click", function() {
                    this.classList.toggle("active");
                    var content = this.nextElementSibling;
                    if (content.style.display === "block") {
                        content.style.display = "none";
                    }
                    else {
                        content.style.display = "block";
                    }
                });
            }

            function scrollToSection(ID) {
                document.getElementById(ID).scrollIntoView({behavior: 'smooth'});
            }

            // Add a flag to track if the user has manually dismissed the modal
            let modalManuallyDismissed = false;
            // Add debounce functionality
            let resizeTimeout;

            function checkNavWidth() {
                // Clear the timeout if it exists
                if (resizeTimeout) {
                    clearTimeout(resizeTimeout);
                }
                
                // Set a timeout to prevent rapid firing of the function
                resizeTimeout = setTimeout(function() {
                    // If the modal was manually dismissed, don't show it again
                    if (modalManuallyDismissed) return;
                    
                    const pgTitle = document.getElementById('title');
                    const modal = document.querySelector('.screen-size-modal');
                    
                    if (pgTitle && modal) {
                        const width = pgTitle.getBoundingClientRect().width;
                        // Use a slightly smaller threshold to prevent flickering
                        if (width < 280) {  // Changed from 282 to 280 to add some buffer
                            modal.style.display = 'block';
                        } else {
                            modal.style.display = 'none';
                        }
                    }
                }, 250); // 250ms debounce time
            }

            // Check on page load
            document.addEventListener('DOMContentLoaded', function() {
                checkNavWidth();
                
                // Set up close button listener
                const closeButton = document.querySelector('.close-button');
                if (closeButton) {
                    closeButton.addEventListener('click', function() {
                        const modal = document.querySelector('.screen-size-modal');
                        if (modal) {
                            modal.style.display = 'none';
                            // Set the flag when the user manually closes the modal
                            modalManuallyDismissed = true;
                        }
                    });
                }
            });

            // Check on window resize with debounce
            window.addEventListener('resize', checkNavWidth);
        </script>
    </body>
</html>